language: haxe
cache:
    apt: true
    directories:
        - node_modules

before_install:
    - npm install
    - yes | haxelib install targets/test.hxml

install: true

before_script:
    - gulp create-artifacts-dir
    - gulp test

hxml:
    - targets/js.hxml

#whitelist only the master branch
branches:
    only:
        - master
